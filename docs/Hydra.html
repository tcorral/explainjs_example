<!DOCTYPE html>
<html>

<head>
  <title>../src/Hydra.js | ExplainJS by grunt-explainjs</title>
  <link rel="stylesheet" type="text/css" href="css/unsemantic.css"/>
  <link rel="stylesheet" type="text/css" href="css/explain.css"/>
  <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1" />
</head>

<body>
  <div class='page-menu'>
    <div class='grid-container'>
      <div class='grid-60 mobile-grid-100'>
        <a class='logo' href='http://www.explainjs.com'>ExplainJS</a> by <a class='logo' href='https://github.com/collinforrester/grunt-explainjs'>grunt-explainjs</a>
        
          for
          <a href='../src/Hydra.js' class='src-title'>../src/Hydra.js</a>
        
      </div>
    </div>
  </div>
  <div class='sections grid-container'>
    <div class='code-bg hide-on-mobile'>
    </div>
    <br />
    <br />
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>global exports, module, require, define, setTimeout</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
            (function ()

{

  'use strict';

  var root, sNotDefined, oModules, oVars, _null_, bUnblockUI, _false_, sVersion, FakeModule, Hydra, bDebug, ErrorHandler, Module, Bus, oChannels, isNodeEnvironment, oObjProto;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Used to generate an unique key for instance ids that are not supplied by the user.</p> <p>@return {String}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function generateUniqueKey()

  {

    var sFirstToken = +new Date() + '',

      sSecondToken = Math.floor( Math.random() * (999999 - 1 + 1) ) + 1;

    return sFirstToken + '_' + sSecondToken;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Return the length of properties of one object</p> <p>@param oObj</p> <p>@return {*}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function getObjectLength( oObj )

  {

    var nLen, sKey;

    if ( Object.keys )

    {

      nLen = Object.keys( oObj ).length;

    }

    else

    {

      nLen = 0;

      for ( sKey in oObj )

      {

        if ( ownProp( oObj, sKey ) )

        {

          nLen++;

        }

      }

    }

    return nLen;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Check if Object.create exist, if not exist we create it to be used inside the code.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              if ( typeof Object.create !== 'function' )

  {

    Object.create = function ( oObject )

    {

      function Copy()

      {

      }



      Copy.prototype = oObject;

      return new Copy();

    };

  }

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Check if Hydra.js is loaded in Node.js environment</p> <p>@type {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              isNodeEnvironment = typeof exports === "object" && typeof module === "object" && typeof module.exports === "object" && typeof require === "function";

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Cache 'undefined' string to test typeof</p> <p>@type {String}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              sNotDefined = 'undefined';

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Cache of object prototype to use it in other functions</p> <p>@type {Object}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              oObjProto = Object.prototype;

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>set the correct root depending from the environment.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              root = this;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Contains a reference to null object to decrease final size</p> <p>@type {Object}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              _null_ = null;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Contains a reference to false to decrease final size</p> <p>@type {Boolean}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              _false_ = false;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Property that will save the registered modules</p> <p>@private</p> <p>@type {Object}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              oModules = {};



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Version of Hydra</p> <p>@private</p> <p>@type {String}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              sVersion = '3.1.3';



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Used to activate the debug mode</p> <p>@private</p> <p>@type {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              bDebug = _false_;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Use to activate the unblock UI when notifies are executed.</p> <p>WARNING!!! This will not block your UI but could give problems with the order of execution.</p> <p>@type {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              bUnblockUI = _false_;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Wrapper of Object.prototype.toString to detect type of object in cross browsing mode.</p> <p>@private</p> <p>@param {Object} oObject</p> <p>@return {String}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function toString( oObject )

  {

    return oObjProto.toString.call( oObject );

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>isFunction is a function to know if the object passed as parameter is a Function object.</p> <p>@private</p> <p>@param {Object} fpCallback</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function isFunction( fpCallback )

  {

    return toString( fpCallback ) === '[object Function]';

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>isArray is a function to know if the object passed as parameter is an Array object.</p> <p>@private</p> <p>@param {String|Array|Object} aArray</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function isArray( aArray )

  {

    return toString( aArray ) === '[object Array]';

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>setDebug is a method to set the bDebug flag.</p> <p>@private</p> <p>@param {Boolean} _bDebug</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function setDebug( _bDebug )

  {

    bDebug = _bDebug;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>setUnblockUI is a method to set the bUnblockUI flag.</p> <p>@private</p> <p>@param {Boolean} _bUnblockUI</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function setUnblockUI( _bUnblockUI )

  {

    bUnblockUI = _bUnblockUI;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Converts objects like node list to real array.</p> <p>@private</p> <p>@param {Object} oLikeArray</p> <p>@param {Number} nElements</p> <p>@return {Array}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function slice( oLikeArray, nElements )

  {

    return [].slice.call( oLikeArray, nElements || 0 );

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Wrapper of Object.hasOwnProperty</p> <p>@private</p> <p>@param {Object} oObj</p> <p>@param {String} sKey</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function ownProp( oObj, sKey )

  {

    return oObj.hasOwnProperty( sKey );

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>startSingleModule is the method that will initialize the module.</p> <p>When start is called the module instance will be created and the init method is called.</p> <p>If bSingle is true and the module is started the module will be stopped before instance it again.</p> <p>This avoid execute the same listeners more than one time.</p> <p>@param {Object} oWrapper</p> <p>@param {String} sModuleId</p> <p>@param {String} sIdInstance</p> <p>@param {Object} oData</p> <p>@param {Boolean} bSingle</p> <p>@return {Module} instance of the module</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function startSingleModule( oWrapper, sModuleId, sIdInstance, oData, bSingle )

  {

    var oModule, oInstance;

    oModule = oModules[sModuleId];



    if ( bSingle && oWrapper.isModuleStarted( sModuleId, sIdInstance ) )

    {

      oWrapper.stop( sModuleId, sIdInstance );

    }

    if ( typeof oModule !== sNotDefined )

    {

      oInstance = createInstance( sModuleId );

      oModule.instances[sIdInstance] = oInstance;

      oInstance.__instance_id__ = sIdInstance;

      if ( typeof oData !== sNotDefined )

      {

        oInstance.init( oData );

      }

      else

      {

        oInstance.init();

      }

    }

    return oInstance;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Do a simple merge of two objects overwriting the target properties with source properties</p> <p>@param {Object} oTarget</p> <p>@param {Object} oSource</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function simpleMerge( oTarget, oSource )

  {

    var sKey;

    for ( sKey in oSource )

    {

      if ( ownProp( oSource, sKey ) )

      {

        oTarget[sKey] = oSource[sKey];

      }

    }

    return oTarget;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>wrapMethod is a method to wrap the original method to avoid failing code.</p> <p>This will be only called if bDebug flag is set to false.</p> <p>@private</p> <p>@param {Object} oInstance</p> <p>@param {String} sName</p> <p>@param {String} sModuleId</p> <p>@param {Function} fpMethod</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function wrapMethod( oInstance, sName, sModuleId, fpMethod )

  {

    oInstance[sName] = (function ( sName, fpMethod )

    {

      return function ()

      {

        var aArgs = slice( arguments, 0 );

        try

        {

          return fpMethod.apply( this, aArgs );

        }

        catch ( erError )

        {

          ErrorHandler.log( sModuleId, sName, erError );

          return false;

        }

      };

    }( sName, fpMethod ));

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Private object to save the channels for communicating event driven</p> <p>@private</p> <p>@type {Object}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              oChannels = {

    global: {}

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>subscribersByEvent return all the subscribers of the event in the channel.</p> <p>@param {Object} oChannel</p> <p>@param {String} sEventName</p> <p>@return {Array}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function subscribersByEvent( oChannel, sEventName )

  {

    var aSubscribers = [],

      sEvent;

    if ( typeof oChannel !== 'undefined' )

    {

      for ( sEvent in oChannel )

      {

        if ( ownProp( oChannel, sEvent ) && sEvent === sEventName )

        {

          aSubscribers = oChannel[sEvent];

        }

      }

    }

    return aSubscribers;

  }





          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Bus is the object that must be used to manage the notifications by channels</p> <p>@constructor</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Bus = {

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>subscribers return the array of subscribers to one channel and event.</p> <p>@param {String} sChannelId</p> <p>@param {String} sEventName</p> <p>@return {Array}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                subscribers: function ( sChannelId, sEventName )

    {

      return subscribersByEvent( oChannels[sChannelId], sEventName );

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_getChannelEvents return the events array in channel.</p> <p>@param aEventsParts</p> <p>@param sChannelId</p> <p>@param sEvent</p> <p>@return {Object}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _getChannelEvents: function ( sChannelId, sEvent )

    {

      if ( typeof oChannels[sChannelId] === 'undefined' )

      {

        oChannels[sChannelId] = {};

      }

      if ( typeof oChannels[sChannelId][sEvent] === 'undefined' )

      {

        oChannels[sChannelId][sEvent] = [];

      }

      return oChannels[sChannelId][sEvent];

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_addSubscribers add all the events of one channel from the subscriber</p> <p>@param oEventsCallbacks</p> <p>@param sChannelId</p> <p>@param oSubscriber</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _addSubscribers: function ( oEventsCallbacks, sChannelId, oSubscriber )

    {

      var sEvent;

      for ( sEvent in oEventsCallbacks )

      {

        if ( ownProp( oEventsCallbacks, sEvent ) )

        {

          this.subscribeTo( sChannelId, sEvent, oEventsCallbacks[sEvent], oSubscriber );

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Method to unsubscribe a subscriber from a channel and event type.</p> <p>It iterates in reverse order to avoid messing with array length when removing items.</p> <p>@param sChannelId</p> <p>@param sEventType</p> <p>@param oSubscriber</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                unsubscribeFrom: function ( sChannelId, sEventType, oSubscriber )

    {

      var aChannelEvents = this._getChannelEvents( sChannelId, sEventType ),

        oItem,

        nEvent = aChannelEvents.length - 1;



      for ( ; nEvent >= 0; nEvent-- )

      {

        oItem = aChannelEvents[nEvent];

        if ( oItem.subscriber === oSubscriber )

        {

          aChannelEvents.splice( nEvent, 1 );

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Method to add a single callback in one channel an in one event.</p> <p>@param sChannelId</p> <p>@param sEventType</p> <p>@param fpHandler</p> <p>@param oSubscriber</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                subscribeTo: function ( sChannelId, sEventType, fpHandler, oSubscriber )

    {

      var aChannelEvents = this._getChannelEvents( sChannelId, sEventType );

      aChannelEvents.push( {

        subscriber: oSubscriber,

        handler: fpHandler

      } );

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>subscribe method gets the oEventsCallbacks object with all the handlers and add these handlers to the channel.</p> <p>@param {Module/Object} oSubscriber</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                subscribe: function ( oSubscriber )

    {

      var sChannelId, oEventsCallbacks = oSubscriber.events;

      if ( !oSubscriber || typeof oEventsCallbacks === 'undefined' )

      {

        return false;

      }

      for ( sChannelId in oEventsCallbacks )

      {

        if ( ownProp( oEventsCallbacks, sChannelId ) )

        {

          if ( typeof oChannels[sChannelId] === 'undefined' )

          {

            oChannels[sChannelId] = {};

          }

          this._addSubscribers( oEventsCallbacks[sChannelId], sChannelId, oSubscriber );

        }

      }



      return true;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_removeSubscribers remove the subscribers to one channel and return the number of</p> <p>subscribers that have been unsubscribed.</p> <p>@param aSubscribers</p> <p>@param oSubscriber</p> <p>@return {Number}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _removeSubscribers: function ( aSubscribers, oSubscriber )

    {

      var nLenSubscribers,

        nIndex = 0,

        nUnsubscribed = 0;

      if ( typeof aSubscribers !== sNotDefined )

      {

        nLenSubscribers = aSubscribers.length;

        for ( ; nIndex < nLenSubscribers; nIndex++ )

        {

          if ( aSubscribers[nIndex].subscriber === oSubscriber )

          {

            nUnsubscribed++;

            aSubscribers.splice( nIndex, 1 );

          }

        }

      }

      return nUnsubscribed;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Loops per all the events to remove subscribers.</p> <p>@param oEventsCallbacks</p> <p>@param bOnlyGlobal</p> <p>@param sChannelId</p> <p>@param oSubscriber</p> <p>@return {*}</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _removeSubscribersPerEvent: function ( oEventsCallbacks, sChannelId, oSubscriber )

    {

      var sEvent, aEventsParts, sChannel, sEventType, nUnsubscribed = 0;

      for ( sEvent in oEventsCallbacks )

      {

        if ( ownProp( oEventsCallbacks, sEvent ) )

        {

          aEventsParts = sEvent.split( ':' );



          sChannel = sChannelId;

          sEventType = sEvent;

          if ( aEventsParts[0] === 'global' )

          {

            sChannel = aEventsParts[0];

            sEventType = aEventsParts[1];

          }

          nUnsubscribed += this._removeSubscribers( oChannels[sChannel][sEventType], oSubscriber );

        }

      }

      return nUnsubscribed;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>unsubscribe gets the oEventsCallbacks methods and removes the handlers of the channel.</p> <p>@param {Module/Object} oSubscriber</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                unsubscribe: function ( oSubscriber )

    {

      var nUnsubscribed = 0, sChannelId, oEventsCallbacks = oSubscriber.events;

      if ( !oSubscriber || typeof oEventsCallbacks === 'undefined' )

      {

        return false;

      }



      for ( sChannelId in oEventsCallbacks )

      {

        if ( ownProp( oEventsCallbacks, sChannelId ) )

        {

          if ( typeof oChannels[sChannelId] === 'undefined' )

          {

            oChannels[sChannelId] = {};

          }

          nUnsubscribed = this._removeSubscribersPerEvent( oEventsCallbacks[sChannelId], sChannelId, oSubscriber );

        }

      }



      return nUnsubscribed > 0;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Method to execute all the callbacks but without blocking the user interface.</p> <p>@private</p> <p>@param {Array} aSubscribers</p> <p>@param {Object} oData</p> <p>@param {String} sChannelId</p> <p>@param {String} sEvent</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _avoidBlockUI: function ( aSubscribers, oData, sChannelId, sEvent )

    {

      var oHandlerObject,

        aSubs = aSubscribers.concat();

      setTimeout( function recall()

      {

        var nStart = +new Date();

        do {

          oHandlerObject = aSubs.shift();

          oHandlerObject.handler.call( oHandlerObject.subscriber, oData );

          if ( bDebug )

          {

            ErrorHandler.log( sChannelId, sEvent, oHandlerObject );

          }

        }

        while ( aSubs.length > 0 && ( +new Date() - nStart < 50 ) );

        if ( aSubs.length > 0 )

        {

          setTimeout( recall, 25 );

        }

      }, 25 );

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Publish the event in one channel.</p> <p>@param {String} sChannelId</p> <p>@param {String} sEvent</p> <p>@param {String} oData</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                publish: function ( sChannelId, sEvent, oData )

    {

      var aSubscribers = this.subscribers( sChannelId, sEvent ).slice(),

        nLenSubscribers = aSubscribers.length,

        nIndex,

        oHandlerObject;

      if ( nLenSubscribers === 0 )

      {

        return false;

      }

      if ( bUnblockUI )

      {

        this._avoidBlockUI( aSubscribers, oData, sChannelId, sEvent );

      }

      else

      {

        for ( nIndex = 0; nIndex < nLenSubscribers; nIndex++ )

        {

          oHandlerObject = aSubscribers[nIndex];

          oHandlerObject.handler.call( oHandlerObject.subscriber, oData );

          if ( bDebug )

          {

            ErrorHandler.log( sChannelId, sEvent, oHandlerObject );

          }

        }

      }

      return true;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Reset channels</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                reset: function ()

    {

      oChannels = {

        global: {}

      };

    }

  };

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Add common properties and methods to avoid repeating code in modules</p> <p>@param {String} sModuleId</p> <p>@param {Object} Bus</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function addPropertiesAndMethodsToModule( sModuleId, Bus )

  {

    var oModule,

      fpInitProxy;

    oModule = oModules[sModuleId].creator( Bus );

    oModule.__module_id__ = sModuleId;

    fpInitProxy = oModule.init || function ()

    {

    };

    oModule.__action__ = Bus;

    oModule.events = oModule.events || {};

    oModule.init = function ()

    {

      var aArgs = slice( arguments, 0 ).concat( oVars );

      Bus.subscribe( oModule );

      fpInitProxy.apply( this, aArgs );

    };

    oModule.handleAction = function ( oNotifier )

    {

      var fpCallback = this.events[oNotifier.type];

      if ( typeof fpCallback === sNotDefined )

      {

        return;

      }

      fpCallback.call( this, oNotifier );

    };

    oModule.onDestroy = oModule.onDestroy || function ()

    {

    };

    oModule.destroy = function ()

    {

      this.onDestroy();

      Bus.unsubscribe( oModule );

    };

    return oModule;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>createInstance is the method that will create the module instance and wrap the method if needed.</p> <p>@private</p> <p>@param {String} sModuleId</p> <p>@return {Object} Module instance</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function createInstance( sModuleId )

  {

    var oInstance, sName;

    if ( typeof oModules[sModuleId] === sNotDefined )

    {

      throw new Error( 'The module ' + sModuleId + ' is not registered!' );

    }

    oInstance = addPropertiesAndMethodsToModule( sModuleId, Bus );

    if ( !bDebug )

    {

      for ( sName in oInstance )

      {

        if ( ownProp( oInstance, sName ) && isFunction( oInstance[sName] ) )

        {

          wrapMethod( oInstance, sName, sModuleId, oInstance[sName] );

        }

      }

    }

    return oInstance;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Simple object to abstract the error handler, the most basic is to be the console object</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              ErrorHandler = root.console || {

    log: function ()

    {

    }

  };

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Class to manage the modules.</p> <p>@constructor</p> <p>@class Module</p> <p>@name Module</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Module = function ()

  {

  };



  Module.prototype = {

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>type is a property to be able to know the class type.</p> <p>@member Module.prototype</p> <p>@type String</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                type: 'Module',

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Wrapper to use createInstance for plugins if needed.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                getInstance: createInstance,

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>register is the method that will add the new module to the oModules object.</p> <p>sModuleId will be the key where it will be stored.</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId</p> <p>@param {Function} fpCreator</p> <p>@return {Module}</p> <p><strong>Usage</strong></p> <p><iframe width="100%" height="300" src="http://jsfiddle.net/amischol/p7Vjz/4/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe></p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                register: function ( sModuleId, fpCreator )

    {

      var self = this;

      oModules[sModuleId] = new FakeModule( sModuleId, fpCreator );

      return oModules[sModuleId];

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_setSuper add the <strong>super</strong> support to access to the methods in parent module.</p> <p>@param oFinalModule</p> <p>@param oModuleBase</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _setSuper: function ( oFinalModule, oModuleBase )

    {

      oFinalModule.__super__ = {};

      oFinalModule.__super__.__instance__ = oModuleBase;

      oFinalModule.__super__.__call__ = function ( sKey, aArgs )

      {

        var oObject = this;

        while ( ownProp( oObject, sKey ) === _false_ )

        {

          oObject = oObject.__instance__.__super__;

        }

        oObject[sKey].apply( oFinalModule, aArgs );

      };

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Callback that is used to call the methods in parent module.</p> <p>@private</p> <p>@param fpCallback</p> <p>@return {Function}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _callInSuper: function ( fpCallback )

    {

      return function ()

      {

        var aArgs = slice( arguments, 0 );

        fpCallback.apply( this, aArgs );

      };

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Adds the extended properties and methods to final module.</p> <p>@param oFinalModule</p> <p>@param oModuleExtended</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _mergeModuleExtended: function ( oFinalModule, oModuleExtended )

    {

      var sKey;

      for ( sKey in oModuleExtended )

      {

        if ( ownProp( oModuleExtended, sKey ) )

        {

          if ( typeof oFinalModule.__super__ !== sNotDefined && isFunction( oFinalModule[sKey] ) )

          {

            oFinalModule.__super__[sKey] = (this._callInSuper( oFinalModule[sKey] ));

          }

          oFinalModule[sKey] = oModuleExtended[sKey];

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Adds the base properties and methods to final module.</p> <p>@param oFinalModule</p> <p>@param oModuleBase</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _mergeModuleBase: function ( oFinalModule, oModuleBase )

    {

      var sKey;

      for ( sKey in oModuleBase )

      {

        if ( ownProp( oModuleBase, sKey ) )

        {

          if ( sKey !== '__super__' )

          {

            oFinalModule[sKey] = oModuleBase[sKey];

          }

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_merge is the method that gets the base module and the extended and returns the merge of them</p> <p>@private</p> <p>@param {Object} oModuleBase</p> <p>@param {Object} oModuleExtended</p> <p>@return {Object}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _merge: function ( oModuleBase, oModuleExtended )

    {

      var oFinalModule = {};

      this._setSuper( oFinalModule, oModuleBase );

      this._mergeModuleBase( oFinalModule, oModuleBase );

      this._mergeModuleExtended( oFinalModule, oModuleExtended );

      return oFinalModule;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>extend is the method that will be used to extend a module with new features.</p> <p>can be used to remove some features too, without touching the original code.</p> <p>You can extend a module and create a extended module with a different name.</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId</p> <p>@param {Function/String} oSecondParameter can be the name of the new module that extends the baseModule or a function if we want to extend an existent module.</p> <p>@param {Function} oThirdParameter [optional] this must exist only if we need to create a new module that extends the baseModule.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                extend: function ( sModuleId, oSecondParameter, oThirdParameter )

    {

      var oModule, sFinalModuleId, fpCreator, oBaseModule, oExtendedModule, oFinalModule, self;

      self = this;

      oModule = oModules[sModuleId];

      sFinalModuleId = sModuleId;

      fpCreator = function ()

      {

      };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Function "overloading".</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
            
          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>If the 2nd parameter is a string,</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                  if ( typeof oSecondParameter === 'string' )

      {

        sFinalModuleId = oSecondParameter;

        fpCreator = oThirdParameter;

      }

      else

      {

        fpCreator = oSecondParameter;

      }

      if ( typeof oModule === sNotDefined )

      {

        return;

      }

      oExtendedModule = fpCreator( Bus );

      oBaseModule = oModule.creator( Bus );



      oModules[sFinalModuleId] = new FakeModule( sFinalModuleId, function ( Bus )

      {

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>If we extend the module with the different name, we</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
            
          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>create proxy class for the original methods.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                    oFinalModule = self._merge( oBaseModule, oExtendedModule );

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>This gives access to the Action instance used to listen and notify.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                    oFinalModule.__action__ = Bus;

        return oFinalModule;

      } );

      return oModules[sFinalModuleId];

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Method to set an instance of a module</p> <p>@param {String} sModuleId</p> <p>@param {String} sIdInstance</p> <p>@param {Object} oInstance</p> <p>@return {Module}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                setInstance: function ( sModuleId, sIdInstance, oInstance )

    {

      var oModule = oModules[sModuleId];

      if ( !oModule )

      {

        throw new Error( 'The module ' + sModuleId + ' is not registered!' );

      }

      oModule.instances[sIdInstance] = oInstance;

      return oModule;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Sets an object of vars and add it's content to oVars private variable</p> <p>@param {Object} oVar</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                setVars: function ( oVar )

    {

      if ( typeof oVars !== sNotDefined )

      {

        oVars = simpleMerge( oVars, oVar );

      }

      else

      {

        oVars = oVar;

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Returns the private vars object by copy.</p> <p>@returns {Object} global vars.</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                getVars: function ()

    {

      return simpleMerge( {}, oVars );

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>start more than one module at the same time.</p> <p>@param aModulesIds</p> <p>@param sIdInstance</p> <p>@param oData</p> <p>@param bSingle</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _multiModuleStart: function ( aModulesIds, sIdInstance, oData, bSingle )

    {

      var aInstancesIds, aData, aSingle, nIndex, nLenModules, sModuleId;

      if ( isArray( sIdInstance ) )

      {

        aInstancesIds = sIdInstance.slice( 0 );

      }

      if ( isArray( oData ) )

      {

        aData = oData.slice( 0 );

      }

      if ( isArray( bSingle ) )

      {

        aSingle = bSingle.slice( 0 );

      }

      for ( nIndex = 0, nLenModules = aModulesIds.length; nIndex < nLenModules; nIndex++ )

      {

        sModuleId = aModulesIds[nIndex];

        sIdInstance = aInstancesIds && aInstancesIds[nIndex] || generateUniqueKey();

        oData = aData && aData[nIndex] || oData;

        bSingle = aSingle && aSingle[nIndex] || bSingle;

        startSingleModule( this, sModuleId, sIdInstance, oData, bSingle );

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Start only one module.</p> <p>@param sModuleId</p> <p>@param sIdInstance</p> <p>@param oData</p> <p>@param bSingle</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _singleModuleStart: function ( sModuleId, sIdInstance, oData, bSingle )

    {

      if ( typeof sIdInstance !== 'string' )

      {

        oData = sIdInstance;

        bSingle = oData;

        sIdInstance = generateUniqueKey();

      }

      startSingleModule( this, sModuleId, sIdInstance, oData, bSingle );

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>start is the method that initialize the module/s</p> <p>If you use array instead of arrays you can start more than one module even adding the instance, the data and if it must be executed</p> <p>as single module start.</p> <p>@param {String/Array} sModuleId</p> <p>@param {String/Array} sIdInstance</p> <p>@param {Object/Array} oData</p> <p>@param {Boolean/Array} bSingle</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                start: function ( sModuleId, sIdInstance, oData, bSingle )

    {

      var bStartMultipleModules = isArray( sModuleId );



      if ( bStartMultipleModules )

      {

        this._multiModuleStart( sModuleId.slice( 0 ), sIdInstance, oData, bSingle );

      }

      else

      {

        this._singleModuleStart( sModuleId, sIdInstance, oData, bSingle );

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Checks if module was already successfully started</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId Name of the module</p> <p>@param {String} sInstanceId Id of the instance</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                isModuleStarted: function ( sModuleId, sInstanceId )

    {

      var bStarted = false;

      if ( typeof sInstanceId === sNotDefined )

      {

        bStarted = ( typeof oModules[sModuleId] !== sNotDefined && getObjectLength( oModules[sModuleId].instances ) > 0 );

      }

      else

      {

        bStarted = ( typeof oModules[sModuleId] !== sNotDefined && typeof oModules[sModuleId].instances[sInstanceId] !== sNotDefined );

      }

      return bStarted;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>startAll is the method that will initialize all the registered modules.</p> <p>@member Module.prototype</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                startAll: function ()

    {

      var sModuleId, oModule;

      for ( sModuleId in oModules )

      {

        if ( ownProp( oModules, sModuleId ) )

        {

          oModule = oModules[sModuleId];

          if ( typeof oModule !== sNotDefined )

          {

            this.start( sModuleId, generateUniqueKey() );

          }

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>stop more than one module at the same time.</p> <p>@param oModule</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _multiModuleStop: function ( oModule )

    {

      var sKey,

        oInstances = oModule.instances,

        oInstance;

      for ( sKey in oInstances )

      {

        if ( ownProp( oInstances, sKey ) )

        {

          oInstance = oInstances[sKey];

          if ( typeof oModule !== sNotDefined && typeof oInstance !== sNotDefined )

          {

            oInstance.destroy();

          }

        }

      }

      oModule.instances = {};

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Stop only one module.</p> <p>@param oModule</p> <p>@param sModuleId</p> <p>@param sInstanceId</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _singleModuleStop: function ( oModule, sModuleId, sInstanceId )

    {

      var oInstance = oModule.instances[sInstanceId];

      if ( typeof oModule !== sNotDefined && typeof oInstance !== sNotDefined )

      {

        oInstance.destroy();

        delete oModule.instances[sInstanceId];

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>stop is the method that will finish the module if it was registered and started.</p> <p>When stop is called the module will call the destroy method and will nullify the instance.</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId</p> <p>@param {String} sInstanceId</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                stop: function ( sModuleId, sInstanceId )

    {

      var oModule;

      oModule = oModules[sModuleId];

      if ( typeof oModule === sNotDefined )

      {

        return false;

      }

      if ( typeof sInstanceId !== sNotDefined )

      {

        this._singleModuleStop( oModule, sModuleId, sInstanceId );

      }

      else

      {

        this._multiModuleStop( oModule );

      }

      return true;

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Loops over instances of modules to stop them.</p> <p>@param oInstances</p> <p>@param sModuleId</p> <p>@private</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _stopOneByOne: function ( oInstances, sModuleId )

    {

      var sInstanceId;

      for ( sInstanceId in oInstances )

      {

        if ( ownProp( oInstances, sInstanceId ) )

        {

          this.stop( sModuleId, sInstanceId );

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>stopAll is the method that will finish all the registered and started modules.</p> <p>@member Module.prototype</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                stopAll: function ()

    {

      var sModuleId;

      for ( sModuleId in oModules )

      {

        if ( ownProp( oModules, sModuleId ) && typeof oModules[sModuleId] !== sNotDefined )

        {

          this._stopOneByOne( oModules[sModuleId].instances, sModuleId );

        }

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>_delete is a wrapper method that will call the native delete javascript function</p> <p>It's important to test the full code.</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                _delete: function ( sModuleId )

    {

      if ( typeof oModules[sModuleId] !== sNotDefined )

      {

        delete oModules[sModuleId];

      }

    },

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>remove is the method that will remove the full module from the oModules object</p> <p>@member Module.prototype</p> <p>@param {String} sModuleId</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
                remove: function ( sModuleId )

    {

      var oModule = oModules[sModuleId];

      if ( typeof oModule === sNotDefined )

      {

        return null;

      }

      if ( typeof oModule !== sNotDefined )

      {

        try

        {

          return oModule;

        }

        finally

        {

          this._delete( sModuleId );

        }

      }

      return null;

    }

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>getErrorHandler is a method to gain access to the private ErrorHandler constructor.</p> <p>@private</p> <p>@return ErrorHandler class</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function getErrorHandler()

  {

    return ErrorHandler;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>setErrorHandler is a method to set the ErrorHandler to a new object to add more logging logic.</p> <p>@private</p> <p>@param {Function} oErrorHandler</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              function setErrorHandler( oErrorHandler )

  {

    ErrorHandler = oErrorHandler;

  }



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Hydra is the api that will be available to use by developers</p> <p>@constructor</p> <p>@class Hydra</p> <p>@name Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra = function ()

  {

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Version number of Hydra.</p> <p>@static</p> <p>@member Hydra</p> <p>@type String</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.version = sVersion;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>bus is a singleton instance of the bus to subscribe and publish content in channels.</p> <p>@type {Object}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.bus = Bus;

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Returns the actual ErrorHandler</p> <p>@static</p> <p>@member Hydra</p> <p>@type ErrorHandler</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.errorHandler = getErrorHandler;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Sets and overwrites the ErrorHandler object to log errors and messages</p> <p>@static</p> <p>@param ErrorHandler</p> <p>@member Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.setErrorHandler = setErrorHandler;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Return a singleton of Module</p> <p>@static</p> <p>@member Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.module = new Module();



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Change the unblock UI mode to on/off</p> <p>@static</p> <p>@Member Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.setUnblockUI = setUnblockUI;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Change the debug mode to on/off</p> <p>@static</p> <p>@member Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.setDebug = setDebug;



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Get the debug status</p> <p>@static</p> <p>@member Hydra</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.getDebug = function ()

  {

    return bDebug;

  };

          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Extends Hydra object with new functionality</p> <p>@static</p> <p>@member Hydra</p> <p>@param {String} sIdExtension</p> <p>@param {Object} oExtension</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.extend = function ( sIdExtension, oExtension )

  {

    if ( typeof this[sIdExtension] === sNotDefined )

    {

      this[sIdExtension] = oExtension;

    }

    else

    {

      this[sIdExtension] = simpleMerge( this[sIdExtension], oExtension );

    }

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Adds an alias to parts of Hydra</p> <p>@static</p> <p>@member Hydra</p> <p>@param {String} sOldName</p> <p>@param {Object} oNewContext</p> <p>@param {String} sNewName</p> <p>@return {Boolean}</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              Hydra.noConflict = function ( sOldName, oNewContext, sNewName )

  {

    if ( typeof this[sOldName] !== sNotDefined )

    {

      oNewContext[sNewName] = this[sOldName];

      return true;

    }

    return false;

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Module to be stored, adds two methods to start and extend modules.</p> <p>@private</p> <p>@param {String} sModuleId</p> <p>@param {Function} fpCreator</p> <p>@constructor</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              FakeModule = function ( sModuleId, fpCreator )

  {

    if ( typeof fpCreator === sNotDefined )

    {

      throw new Error( 'Something goes wrong!' );

    }

    this.creator = fpCreator;

    this.instances = {};

    this.sModuleId = sModuleId;

  };



  FakeModule.prototype = {

    start: function ( oData )

    {

      Hydra.module.start( this.sModuleId, oData );

      return this;

    },

    extend: function ( oSecondParameter, oThirdParameter )

    {

      Hydra.module.extend( this.sModuleId, oSecondParameter, oThirdParameter );

      return this;

    },

    stop: function ()

    {

      Hydra.module.stop( this.sModuleId );

      return this;

    }

  };



          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
      <div class='section'>
        <div class='comment grid-40 mobile-grid-100 not-empty'>
          <p>Expose Hydra to be used in node.js, as AMD module or as global</p>
        </div>
        <div class='code grid-60 mobile-grid-100 not-empty'>
          <pre>
              root.Hydra = Hydra;

  if ( isNodeEnvironment )

  {

    module.exports = Hydra;

  }

  else if ( typeof define !== 'undefined' )

  {

    define( 'hydra', [], function ()

    {

      return Hydra;

    } );

  }

}.call( this ));.
          </pre>
        </div>
      </div>
      <div class='clear'>
      </div>
    
  </div>
</body>
</html>
